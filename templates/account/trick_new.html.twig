{% extends 'base.html.twig' %}

{% block title %}Compte - Snowtricks{% endblock %}

{% block main %}
    <div class="container mt-5">
        <h1>Cr√©er un Trick</h1>

        {{ form_start(form) }}

        <div class="mb-3">
            {{ form_label(form.title) }}
            {{ form_widget(form.title, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.title) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.content) }}
            {{ form_widget(form.content, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.content) }}
        </div>

        <div class="mb-3">
            {{ form_label(form.urlYoutube) }}
            {{ form_widget(form.urlYoutube, {'attr': {'class': 'form-control'}}) }}
            {{ form_errors(form.urlYoutube) }}
        </div>

        <div class="mb-3">
            <label class="form-label">Images</label>
            <div class="form-collection" data-prototype="{{ form_widget(form.images.vars.prototype)|e('html_attr') }}">
                {% for image in form.images %}
                    <div class="form-group">
                        {{ form_widget(image) }}
                        {{ form_errors(image) }} {# Ajout de l'affichage des erreurs pour chaque image #}
                        <button type="button" class="btn btn-danger remove-image">Supprimer</button>
                    </div>
                {% endfor %}
            </div>
            <button type="button" class="btn btn-secondary add-image">Ajouter une image</button>
        </div>

        <div>
            {{ form_widget(form.submit, {'attr': {'class': 'btn btn-primary btn-lg'}}) }}
        </div>

        {{ form_end(form) }}
        <div class="d-flex flex-row-reverse bottom-0 end-0 p-3">
            <a href="{{ path('account') }}" class="btn btn-primary">Retour</a>
        </div>
    </div>
{% endblock %}
